{"paragraphs":[{"text":"%pyspark\n\ndataset = 'strava-activities-2015'\n\ndf = sqlContext.read.parquet('s3n://larsbk/%s/parquet/point/' % dataset)\ndfa = sqlContext.read.parquet('s3n://larsbk/%s/parquet/block/' % dataset)\n\nsqlContext.registerDataFrameAsTable(df, 'point')\nsqlContext.registerDataFrameAsTable(dfa, 'block')","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203877_-796036848","id":"20160406-182643_438644709","dateCreated":"Apr 6, 2016 6:26:43 PM","dateStarted":"Apr 6, 2016 6:27:11 PM","dateFinished":"Apr 6, 2016 6:27:55 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1051","errorMessage":""},{"text":"%md\n###Cycling speed distribution\nWhat is the most common speed?","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203879_-795267350","id":"20160406-182643_1724690424","dateCreated":"Apr 6, 2016 6:26:43 PM","dateStarted":"Apr 6, 2016 6:44:49 PM","dateFinished":"Apr 6, 2016 6:44:49 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1052","errorMessage":"","focus":true},{"text":"%sql\nSELECT\n  round(p_speed_kmh) AS speed,\n  athlete,\n  sum(p_diff_time_seconds) AS seconds,\n  avg(p_heart_rate) AS mean_heart_rate\nFROM\n  point\nWHERE\n  activity_type = \"Ride\"\n  AND p_speed_kmh < 35\n  AND p_speed_kmh >= 5 \nGROUP BY\n  round(p_speed_kmh),\n  athlete\nORDER BY\n  round(p_speed_kmh)","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":true,"keys":[{"name":"speed","index":0,"aggr":"sum"}],"values":[{"name":"seconds","index":2,"aggr":"sum"}],"groups":[{"name":"athlete","index":1,"aggr":"sum"}],"scatter":{"xAxis":{"name":"speed","index":0,"aggr":"sum"},"yAxis":{"name":"mean_heart_rate","index":3,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967320365_-681230078","id":"20160406-182840_680559843","dateCreated":"Apr 6, 2016 6:28:40 PM","dateStarted":"Apr 6, 2016 6:50:46 PM","dateFinished":"Apr 6, 2016 6:51:26 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1053","errorMessage":"","focus":true},{"text":"%md\n###Year totals\nWho is most often active? For how long at a time? Who is the fastest?","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459968086433_460010659","id":"20160406-184126_1816753212","dateCreated":"Apr 6, 2016 6:41:26 PM","dateStarted":"Apr 6, 2016 6:49:25 PM","dateFinished":"Apr 6, 2016 6:49:25 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1054","errorMessage":"","focus":true},{"text":"%sql\nSELECT\n  *\nFROM\n  block","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":300,"optionOpen":true,"keys":[{"name":"athlete","index":1,"aggr":"sum"}],"values":[{"name":"block_id","index":0,"aggr":"count"}],"groups":[{"name":"activity_type","index":2,"aggr":"sum"}],"scatter":{"xAxis":{"name":"block_avg_speed_kmh","index":6,"aggr":"sum"},"size":{"name":"block_avg_heart_rate","index":7,"aggr":"sum"},"group":{"name":"athlete","index":1,"aggr":"sum"},"yAxis":{"name":"block_avg_heart_rate","index":7,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203879_-795267350","id":"20160406-182643_1298496515","dateCreated":"Apr 6, 2016 6:26:43 PM","dateStarted":"Apr 6, 2016 6:46:43 PM","dateFinished":"Apr 6, 2016 6:46:53 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1055","errorMessage":"","focus":true},{"text":"%md\n###Scatter plot\nWhat type of cyclists are we looking at?","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203879_-795267350","id":"20160406-182643_137688962","dateCreated":"Apr 6, 2016 6:26:43 PM","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:1056","dateFinished":"Apr 6, 2016 6:51:42 PM","dateStarted":"Apr 6, 2016 6:51:42 PM","focus":true},{"text":"%sql\nSELECT\n  *\nFROM\n  block\nWHERE\n  activity_type = \"Ride\"\n  AND block_avg_heart_rate IS NOT NULL\n  AND block_avg_speed_kmh IS NOT NULL","dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"scatterChart","height":300,"optionOpen":true,"keys":[{"name":"block_id","index":0,"aggr":"sum"}],"values":[{"name":"athlete","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"block_avg_speed_kmh","index":6,"aggr":"sum"},"group":{"name":"athlete","index":1,"aggr":"sum"},"size":{"name":"block_avg_heart_rate","index":7,"aggr":"sum"},"yAxis":{"name":"block_avg_heart_rate","index":7,"aggr":"sum"}},"lineWithFocus":false,"forceY":true},"enabled":true,"editorMode":"ace/mode/sql","tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203879_-795267350","id":"20160406-182643_1102106791","dateCreated":"Apr 6, 2016 6:26:43 PM","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:1057","dateFinished":"Apr 6, 2016 6:59:39 PM","dateStarted":"Apr 6, 2016 6:59:11 PM","focus":true},{"dateUpdated":"Apr 6, 2016 7:31:23 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1459967203879_-795267350","id":"20160406-182643_1062380962","dateCreated":"Apr 6, 2016 6:26:43 PM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:1058","errorMessage":""}],"name":"Exploration","id":"2BHVZNC41","angularObjects":{"2B44YVSN1":[],"2AJXGMUUJ":[],"2AK8P7CPX":[],"2AM1YV5CU":[],"2AKK3QQXU":[],"2ANGGHHMQ":[]},"config":{"looknfeel":"default"},"info":{}}